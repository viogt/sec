<!DOCTYPE html>
<html>
  <title>ðŸ“Œ SVG decimals</title>
  <style>
    textarea { width: 100%; height: 40%; }
  </style>
<body>

<textarea rows="20">Text x="20.045" height="auto" y='-0.65' AND x="0.045" y="-30.65" AND x="230.045" y=".6534"... d="34.05L -0.301 M120.09956 0.45091"></textarea>
<textarea rows="20" id="Res" style="background-color:#ffa">Result...</textarea>

Decimals: <input type="text" style="width:20px;text-align:center" id="dec" value="0"> <button onclick='go()'>Go!</button> <span style="color:red" id="out"></span><br>
Attrs: <input type="text" style="width:160px" id="attr" value="x,y,cx,cy,width,height,cx,cy,r,rx,ry,x1,y1,x2,y2,dx,dy,">
 Points: <input type="text" style="width:160px" id="pnts" value="d,points,">

<script>
var BASE;

function getRnd(x) {
  let r = (Math.round(parseFloat(x)*BASE)/BASE).toString();
  if(r.slice(0,2) == '0.') r = r.slice(1);
  else if(r.slice(0,3) == '-0.') r = '-' + r.slice(2);
  else if(r == 'NaN') return x;
  return r;
}

function getPnts(x) {
  return x.replace(/-?\d*\.\d+/gm, m => {
    return getRnd(m);
  });
}
  
function go() {
	const t = document.querySelector('textarea'),
	    R = document.querySelector('#Res'),
      attr = document.querySelector('#attr').value,
      pnts = document.querySelector('#pnts').value,
fnd = /(\w+-?\w*)=(\"|\')(.+?)\2/gm;
//fnd = /(\w+-?\w*)=(\".+?\"|\'.+?\')/gm;
  BASE = Math.pow(10, parseInt(document.querySelector('#dec').value));

  Res.value = t.value.replace(fnd, (m, nm, dlm, vl) => {
    //let ch = vl.charAt(0);
    //vl = vl.slice(1,vl.length-1);
	  let ch = dlm;
    if(pnts.includes(nm+',')) return `${nm}=${ch}${getPnts(vl)}${ch}`;
    else if(attr.includes(nm+',')) return `${nm}=${ch}${getRnd(vl)}${ch}`;
    else return m;
    return m;
  });
  document.querySelector("#out").innerText = t.value.length + " -> " + Res.value.length + " (-" + (100 - Res.value.length/t.value.length * 100).toFixed(1) + '%)';
}
</script>
 
</body>
</html>
